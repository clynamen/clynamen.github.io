
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Voxelization in Unity - The Infornographer</title>
  <meta name="author" content="Vincenzo Giovanni Comito">

  
  <meta name="description" content="This post was originally published on my previous blog A few words on Voxelization and SAT In this post we will create a script for voxelize any &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://clynamen.github.io/blog/2014/06/24/voxelization-in-unity">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="The Infornographer" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <script src="/javascripts/banner-scroll.js"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Fjalla+One' rel='stylesheet' type='text/css'>
  

</head>

<body   class="collapse-sidebar sidebar-footer" >
  <header id="main-banner" role="banner">
	<div class="header-title"><a href="/">The Infornographer</a></div>


</header>
  <div id="main-banner-placeholder"></div>
  <div id="social-bar" style="height: 66px;">
    <a href="https://twitter.com/cIynamen" target="_blank" id="social-bar-twitter"></a>
    <a href="https://github.com/clynamen/" target="_blank" id="social-bar-github"></a>
    <a href="/extras/resume.pdf" target="_blank" id="social-bar-resume" title='resume'></a>
  </div>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:clynamen.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/about">About</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
  
    
      <h1 class="entry-title">Voxelization in Unity</h1>
    
  
    
      <p class="meta">
        








  


<time datetime="2014-06-24T02:15:57+02:00" pubdate data-updated="true"></time>
        
         | <a href="#disqus_thread">Comments</a>
        
      </p>
    
  </header>


<div class="entry-content"><hr />

<p>This post was originally published on <a href="http://nihilistdev.blogspot.it/2012/08/voxelization-in-unity.html">my previous blog</a></p>

<hr />

<h2>A few words on Voxelization and SAT</h2>

<p>In this post we will create a script for voxelize any kind of mesh in unity. Voxelization could be useful in physical simulations, terrain representation and every situation where we need to manipulate the hollow inside of a mesh.
A great post about Voxelization can be found <a href="http://blog.wolfire.com/2009/11/Triangle-mesh-voxelization">&ldquo;here&rdquo;</a>, on Wolfire blog. The post explains how the voxelization of a triangle mesh is done in Overgrowth, we will use the same method in unity.</p>

<p>The creation of a voxel model that reproduces the mesh is achived trough a 3d grid of cubes and an intersection test for each triangle against each cube.
The author states that he uses a AABB-AABB intersection test to check if a cube and a triangle are intersected. This is very fast and appropriate for most situations, but we want the general solution.</p>

<p>A slower but precise way to test the intersection is to use the Separating Axis Theorem. <a href="http://fileadmin.cs.lth.se/cs/personal/tomas_akenine-moller/pubs/tribox.pdf">This paper</a> explains the use of the SAT for Triangle-AABB intersection.</p>

<p>An implementation in C++  of this algorithm was written by Mike Vandelay and can be found <a href="http://planet-source-code.com">planet-source-code.com</a>. I rewrote the same code in unityscript.</p>

<p>Basically the SAT works like this</p>

<p><strong>Take 13 axes:</strong> 3 axes are the cube face normals, 1 axis is the triangle face normal, 9 are the dot product between the first 3 axes and the triangles edges.</p>

<p><strong>Project the AABB and the triangle on each axis.</strong> If the projections intersects on an axis, then the AABB and the triangle are intersected, otherwise they aren&rsquo;t.
<a href="http://www.codezealot.org/archives/55">here</a> a much more detailed explanation of the SAT.</p>

<p>Now, let&rsquo;s see how implement all this in unity.</p>

<hr />

<h2>Mesh Voxelization</h2>

<p><img src="http://3.bp.blogspot.com/-5ooEt8-TR_0/UD3yeC_B8_I/AAAAAAAAAIM/keRIYymy1WE/s1600/voxelizedSphere.png" alt="voxelized sphere" /></p>

<p>The complete script for voxelization can be found <a href="https://github.com/clynamen/Unity-utils/blob/master/Voxelization.js">here on my github</a>.</p>

<p>We are going to use a grid for creating a voxel model. Each Grid is formed by cubes of the same size, these are the grid properties:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'><span class="kr">public</span> <span class="kr">class</span> <span class="nx">AABCGrid</span> <span class="p">{</span>
</span><span class='line'>
</span><span class='line'><span class="kr">private</span> <span class="kd">var</span> <span class="nx">side</span> <span class="o">:</span> <span class="kr">float</span><span class="p">;</span>
</span><span class='line'><span class="kr">private</span> <span class="kd">var</span> <span class="nx">width</span> <span class="o">:</span> <span class="kr">short</span><span class="p">;</span>
</span><span class='line'><span class="kr">private</span> <span class="kd">var</span> <span class="nx">height</span> <span class="o">:</span> <span class="kr">short</span><span class="p">;</span>
</span><span class='line'><span class="kr">private</span> <span class="kd">var</span> <span class="nx">depth</span> <span class="o">:</span> <span class="kr">short</span><span class="p">;</span>
</span><span class='line'><span class="kr">private</span> <span class="kd">var</span> <span class="nx">origin</span> <span class="o">:</span> <span class="nx">Vector3</span><span class="p">;</span>
</span><span class='line'><span class="kr">private</span> <span class="kd">var</span> <span class="nx">cubeSet</span> <span class="o">:</span> <span class="kr">boolean</span><span class="p">[,,];</span>
</span><span class='line'><span class="kr">private</span> <span class="kd">var</span> <span class="nx">cubeNormalSum</span> <span class="o">:</span> <span class="kr">short</span><span class="p">[,,];</span>
</span><span class='line'><span class="kr">private</span> <span class="kd">var</span> <span class="nx">debug</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="p">...</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="cm">/*</span>
</span><span class='line'><span class="cm">AABC stands for Axis Aligned Bounding Cube.</span>
</span><span class='line'><span class="cm">For performance purpose, I didn&#39;t add a 3 dimension array of AABCs, otherwise each cube had to store the side length, the set value etc...</span>
</span><span class='line'><span class="cm">However an AABC class is defined, but only for external use, while inside the AABCGrid class everything is evaluated starting from the class properties.</span>
</span><span class='line'><span class="cm">e.g. to obtain the vertices of a cube is it possible to use the method</span>
</span><span class='line'><span class="cm">AABCGrid.GetAABCCorners(x : short, y : short, z : short) : Vector3[]</span>
</span><span class='line'><span class="cm">or the method AABC.GetCorners().</span>
</span><span class='line'><span class="cm">The AABC.GetCorners() is actually defined like this:</span>
</span><span class='line'><span class="cm">*/</span>
</span><span class='line'><span class="kr">public</span> <span class="kd">function</span> <span class="nx">GetCorners</span><span class="p">(</span><span class="nx">x</span> <span class="o">:</span> <span class="kr">short</span><span class="p">,</span> <span class="nx">y</span> <span class="o">:</span> <span class="kr">short</span><span class="p">,</span> <span class="nx">z</span> <span class="o">:</span> <span class="kr">short</span><span class="p">)</span> <span class="o">:</span> <span class="nx">Vector3</span><span class="p">[]</span> <span class="p">{</span>
</span><span class='line'>    <span class="c1">// grid is a reference to an AABCGrid</span>
</span><span class='line'>    <span class="k">return</span> <span class="nx">grid</span><span class="p">.</span><span class="nx">GetAABCCorners</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">,</span> <span class="nx">z</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>All the public method call a CheckBound() function that check if the cube specified by the x, y, z variable is inside the grid, then the real implementation of the method is called.
e.g.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'><span class="kr">public</span> <span class="kd">function</span> <span class="nx">IsAABCSet</span><span class="p">(</span><span class="nx">x</span> <span class="o">:</span> <span class="kr">short</span><span class="p">,</span> <span class="nx">y</span> <span class="o">:</span> <span class="kr">short</span><span class="p">,</span> <span class="nx">z</span> <span class="o">:</span> <span class="kr">short</span><span class="p">)</span> <span class="o">:</span> <span class="kr">boolean</span> <span class="p">{</span>
</span><span class='line'>   <span class="nx">CheckBounds</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">,</span> <span class="nx">z</span><span class="p">);</span>
</span><span class='line'>   <span class="k">return</span> <span class="nx">IsAABCSetUnchecked</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">,</span> <span class="nx">z</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="kr">protected</span> <span class="kd">function</span> <span class="nx">IsAABCSetUnchecked</span><span class="p">(</span><span class="nx">x</span> <span class="o">:</span> <span class="kr">short</span><span class="p">,</span> <span class="nx">y</span> <span class="o">:</span> <span class="kr">short</span><span class="p">,</span> <span class="nx">z</span> <span class="o">:</span> <span class="kr">short</span><span class="p">)</span> <span class="o">:</span> <span class="kr">boolean</span> <span class="p">{</span>
</span><span class='line'>   <span class="k">return</span> <span class="nx">cubeSet</span><span class="p">[</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">,</span> <span class="nx">z</span><span class="p">];</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>Off course, inside the AABCGrid class and in the possible inheritors, only the unchecked method should be called for faster code.</p>

<h2>Creating the voxel shell</h2>

<p>Once the grid is defined, we need to &lsquo;set&rsquo; all the cubes that are intersected by a triangle of the mesh.
This is done in the <strong>AABCGrid.FillGridWithGameObjectMeshShell()</strong> method.</p>

<p>The result will be a voxel shell, an empty shape that reproduces the mesh.</p>

<p>Ignore the part relative to the normals of the triangles, I&rsquo;m going to explain that later.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
<span class='line-number'>72</span>
<span class='line-number'>73</span>
<span class='line-number'>74</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'><span class="kr">public</span> <span class="kd">function</span> <span class="nx">FillGridWithGameObjectMeshShell</span><span class="p">(</span><span class="nx">gameObj</span> <span class="o">:</span> <span class="nx">GameObject</span><span class="p">,</span> <span class="nx">storeNormalSum</span> <span class="o">:</span> <span class="kr">boolean</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="kd">var</span> <span class="nx">gameObjMesh</span> <span class="o">=</span> <span class="nx">gameObj</span><span class="p">.</span><span class="nx">GetComponent</span><span class="p">(</span><span class="nx">MeshFilter</span><span class="p">).</span><span class="nx">mesh</span><span class="p">;</span>
</span><span class='line'>    <span class="kd">var</span> <span class="nx">gameObjTransf</span> <span class="o">=</span> <span class="nx">gameObj</span><span class="p">.</span><span class="nx">transform</span><span class="p">;</span>
</span><span class='line'>    <span class="kd">var</span> <span class="nx">triangle</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Vector3</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
</span><span class='line'>    <span class="kd">var</span> <span class="nx">startTime</span> <span class="o">=</span> <span class="nx">Time</span><span class="p">.</span><span class="nx">realtimeSinceStartup</span><span class="p">;</span>
</span><span class='line'>    <span class="kd">var</span> <span class="nx">meshVertices</span> <span class="o">=</span> <span class="nx">gameObjMesh</span><span class="p">.</span><span class="nx">vertices</span><span class="p">;</span>
</span><span class='line'>    <span class="kd">var</span> <span class="nx">meshTriangles</span> <span class="o">=</span> <span class="nx">gameObjMesh</span><span class="p">.</span><span class="nx">triangles</span><span class="p">;</span>
</span><span class='line'>    <span class="kd">var</span> <span class="nx">meshTrianglesCount</span> <span class="o">=</span> <span class="nx">meshTriangles</span><span class="p">.</span><span class="nx">length</span> <span class="o">/</span> <span class="mi">3</span><span class="p">;</span>
</span><span class='line'>    <span class="kd">var</span> <span class="nx">x</span> <span class="o">:</span> <span class="kr">short</span><span class="p">;</span>
</span><span class='line'>    <span class="kd">var</span> <span class="nx">y</span> <span class="o">:</span> <span class="kr">short</span><span class="p">;</span>
</span><span class='line'>    <span class="kd">var</span> <span class="nx">z</span> <span class="o">:</span> <span class="kr">short</span><span class="p">;</span>
</span><span class='line'>    <span class="kd">var</span> <span class="nx">ignoreNormalRange</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span><span class='line'>    <span class="c1">// In this method we can also evaluate stores the normals of the triangles </span>
</span><span class='line'>    <span class="c1">// that intersect the cube.</span>
</span><span class='line'>    <span class="k">if</span> <span class="p">(</span><span class="nx">storeNormalSum</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>        <span class="nx">cubeNormalSum</span> <span class="o">=</span> <span class="k">new</span> <span class="kr">short</span> <span class="p">[</span><span class="nx">width</span><span class="p">,</span> <span class="nx">height</span><span class="p">,</span> <span class="nx">depth</span><span class="p">];</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>    <span class="k">if</span><span class="p">(</span><span class="nx">debug</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>        <span class="nx">Debug</span><span class="p">.</span><span class="nx">Log</span><span class="p">(</span><span class="s2">&quot;Start:&quot;</span><span class="p">);</span>
</span><span class='line'>        <span class="nx">Debug</span><span class="p">.</span><span class="nx">Log</span><span class="p">(</span><span class="s2">&quot;Time: &quot;</span> <span class="o">+</span> <span class="nx">startTime</span><span class="p">);</span>
</span><span class='line'>        <span class="nx">Debug</span><span class="p">.</span><span class="nx">Log</span><span class="p">(</span><span class="s2">&quot;     Mesh Description: &quot;</span><span class="p">);</span>
</span><span class='line'>        <span class="nx">Debug</span><span class="p">.</span><span class="nx">Log</span><span class="p">(</span><span class="s2">&quot;Name: &quot;</span> <span class="o">+</span> <span class="nx">gameObjMesh</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>
</span><span class='line'>        <span class="nx">Debug</span><span class="p">.</span><span class="nx">Log</span><span class="p">(</span><span class="s2">&quot;Triangles: &quot;</span> <span class="o">+</span> <span class="nx">meshTrianglesCount</span><span class="p">);</span>
</span><span class='line'>        <span class="nx">Debug</span><span class="p">.</span><span class="nx">Log</span><span class="p">(</span><span class="s2">&quot;Local AABB size: &quot;</span> <span class="o">+</span> <span class="nx">gameObjMesh</span><span class="p">.</span><span class="nx">bounds</span><span class="p">.</span><span class="nx">size</span><span class="p">);</span>
</span><span class='line'>        <span class="nx">Debug</span><span class="p">.</span><span class="nx">Log</span><span class="p">(</span><span class="s2">&quot;     AABCGrid Description:&quot;</span><span class="p">);</span>
</span><span class='line'>        <span class="nx">Debug</span><span class="p">.</span><span class="nx">Log</span><span class="p">(</span><span class="s2">&quot;Size: &quot;</span> <span class="o">+</span> <span class="nx">width</span> <span class="o">+</span> <span class="s1">&#39;,&#39;</span> <span class="o">+</span> <span class="nx">height</span> <span class="o">+</span> <span class="s1">&#39;,&#39;</span> <span class="o">+</span> <span class="nx">depth</span><span class="p">);</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="c1">// For each triangle, perform SAT intersection check with the AABCs within the triangle AABB.</span>
</span><span class='line'>    <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&amp;</span><span class="nx">lt</span><span class="p">;</span> <span class="nx">meshTrianglesCount</span><span class="p">;</span> <span class="o">++</span><span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>        <span class="nx">triangle</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="nx">gameObjTransf</span><span class="p">.</span><span class="nx">TransformPoint</span><span class="p">(</span><span class="nx">meshVertices</span><span class="p">[</span><span class="nx">meshTriangles</span><span class="p">[</span><span class="nx">i</span> <span class="o">*</span> <span class="mi">3</span><span class="p">]]);</span>
</span><span class='line'>        <span class="nx">triangle</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="nx">gameObjTransf</span><span class="p">.</span><span class="nx">TransformPoint</span><span class="p">(</span><span class="nx">meshVertices</span><span class="p">[</span><span class="nx">meshTriangles</span><span class="p">[</span><span class="nx">i</span> <span class="o">*</span> <span class="mi">3</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]]);</span>
</span><span class='line'>        <span class="nx">triangle</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="nx">gameObjTransf</span><span class="p">.</span><span class="nx">TransformPoint</span><span class="p">(</span><span class="nx">meshVertices</span><span class="p">[</span><span class="nx">meshTriangles</span><span class="p">[</span><span class="nx">i</span> <span class="o">*</span> <span class="mi">3</span> <span class="o">+</span> <span class="mi">2</span><span class="p">]]);</span>
</span><span class='line'>        <span class="c1">// Find the triangle AABB, select a sub grid.</span>
</span><span class='line'>        <span class="kd">var</span> <span class="nx">startX</span> <span class="o">=</span> <span class="nx">Mathf</span><span class="p">.</span><span class="nx">Floor</span><span class="p">((</span><span class="nx">Mathf</span><span class="p">.</span><span class="nx">Min</span><span class="p">([</span><span class="nx">triangle</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">x</span><span class="p">,</span> <span class="nx">triangle</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="nx">x</span><span class="p">,</span> <span class="nx">triangle</span><span class="p">[</span><span class="mi">2</span><span class="p">].</span><span class="nx">x</span><span class="p">])</span> <span class="o">-</span> <span class="nx">origin</span><span class="p">.</span><span class="nx">x</span><span class="p">)</span> <span class="o">/</span> <span class="nx">side</span><span class="p">);</span>
</span><span class='line'>        <span class="kd">var</span> <span class="nx">startY</span> <span class="o">=</span> <span class="nx">Mathf</span><span class="p">.</span><span class="nx">Floor</span><span class="p">((</span><span class="nx">Mathf</span><span class="p">.</span><span class="nx">Min</span><span class="p">([</span><span class="nx">triangle</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">y</span><span class="p">,</span> <span class="nx">triangle</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="nx">y</span><span class="p">,</span> <span class="nx">triangle</span><span class="p">[</span><span class="mi">2</span><span class="p">].</span><span class="nx">y</span><span class="p">])</span> <span class="o">-</span> <span class="nx">origin</span><span class="p">.</span><span class="nx">y</span><span class="p">)</span> <span class="o">/</span> <span class="nx">side</span><span class="p">);</span>
</span><span class='line'>        <span class="kd">var</span> <span class="nx">startZ</span> <span class="o">=</span> <span class="nx">Mathf</span><span class="p">.</span><span class="nx">Floor</span><span class="p">((</span><span class="nx">Mathf</span><span class="p">.</span><span class="nx">Min</span><span class="p">([</span><span class="nx">triangle</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">z</span><span class="p">,</span> <span class="nx">triangle</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="nx">z</span><span class="p">,</span> <span class="nx">triangle</span><span class="p">[</span><span class="mi">2</span><span class="p">].</span><span class="nx">z</span><span class="p">])</span> <span class="o">-</span> <span class="nx">origin</span><span class="p">.</span><span class="nx">z</span><span class="p">)</span> <span class="o">/</span> <span class="nx">side</span><span class="p">);</span>
</span><span class='line'>        <span class="kd">var</span> <span class="nx">endX</span> <span class="o">=</span> <span class="nx">Mathf</span><span class="p">.</span><span class="nx">Ceil</span><span class="p">((</span><span class="nx">Mathf</span><span class="p">.</span><span class="nx">Max</span><span class="p">([</span><span class="nx">triangle</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">x</span><span class="p">,</span> <span class="nx">triangle</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="nx">x</span><span class="p">,</span> <span class="nx">triangle</span><span class="p">[</span><span class="mi">2</span><span class="p">].</span><span class="nx">x</span><span class="p">])</span> <span class="o">-</span> <span class="nx">origin</span><span class="p">.</span><span class="nx">x</span><span class="p">)</span> <span class="o">/</span> <span class="nx">side</span><span class="p">);</span>
</span><span class='line'>        <span class="kd">var</span> <span class="nx">endY</span> <span class="o">=</span> <span class="nx">Mathf</span><span class="p">.</span><span class="nx">Ceil</span><span class="p">((</span><span class="nx">Mathf</span><span class="p">.</span><span class="nx">Max</span><span class="p">([</span><span class="nx">triangle</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">y</span><span class="p">,</span> <span class="nx">triangle</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="nx">y</span><span class="p">,</span> <span class="nx">triangle</span><span class="p">[</span><span class="mi">2</span><span class="p">].</span><span class="nx">y</span><span class="p">])</span> <span class="o">-</span> <span class="nx">origin</span><span class="p">.</span><span class="nx">y</span><span class="p">)</span> <span class="o">/</span> <span class="nx">side</span><span class="p">);</span>
</span><span class='line'>        <span class="kd">var</span> <span class="nx">endZ</span> <span class="o">=</span> <span class="nx">Mathf</span><span class="p">.</span><span class="nx">Ceil</span><span class="p">((</span><span class="nx">Mathf</span><span class="p">.</span><span class="nx">Max</span><span class="p">([</span><span class="nx">triangle</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">z</span><span class="p">,</span> <span class="nx">triangle</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="nx">z</span><span class="p">,</span> <span class="nx">triangle</span><span class="p">[</span><span class="mi">2</span><span class="p">].</span><span class="nx">z</span><span class="p">])</span> <span class="o">-</span> <span class="nx">origin</span><span class="p">.</span><span class="nx">z</span><span class="p">)</span> <span class="o">/</span> <span class="nx">side</span><span class="p">);</span>
</span><span class='line'>        <span class="k">if</span> <span class="p">(</span><span class="nx">storeNormalSum</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>            <span class="k">for</span> <span class="p">(</span><span class="nx">x</span> <span class="o">=</span> <span class="nx">startX</span><span class="p">;</span> <span class="nx">x</span> <span class="o">&amp;</span><span class="nx">lt</span><span class="p">;</span><span class="o">=</span> <span class="nx">endX</span><span class="p">;</span> <span class="o">++</span><span class="nx">x</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>                <span class="k">for</span> <span class="p">(</span><span class="nx">y</span> <span class="o">=</span> <span class="nx">startY</span><span class="p">;</span> <span class="nx">y</span> <span class="o">&amp;</span><span class="nx">lt</span><span class="p">;</span><span class="o">=</span> <span class="nx">endY</span><span class="p">;</span> <span class="o">++</span><span class="nx">y</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>                    <span class="k">for</span> <span class="p">(</span><span class="nx">z</span> <span class="o">=</span> <span class="nx">startZ</span><span class="p">;</span> <span class="nx">z</span> <span class="o">&amp;</span><span class="nx">lt</span><span class="p">;</span><span class="o">=</span> <span class="nx">endZ</span><span class="p">;</span> <span class="o">++</span><span class="nx">z</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>                        <span class="k">if</span> <span class="p">(</span><span class="nx">TriangleIntersectAABC</span><span class="p">(</span><span class="nx">triangle</span><span class="p">,</span> <span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">,</span> <span class="nx">z</span><span class="p">))</span> <span class="p">{</span>
</span><span class='line'>                            <span class="kd">var</span> <span class="nx">triangleNormal</span> <span class="o">=</span> <span class="nx">GetTriangleNormal</span><span class="p">(</span><span class="nx">triangle</span><span class="p">);</span>
</span><span class='line'>                            <span class="nx">cubeSet</span><span class="p">[</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">,</span> <span class="nx">z</span><span class="p">]</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
</span><span class='line'>                            <span class="k">if</span> <span class="p">(</span><span class="nx">triangleNormal</span><span class="p">.</span><span class="nx">z</span> <span class="o">&amp;</span><span class="nx">lt</span><span class="p">;</span> <span class="mi">0</span> <span class="o">-</span> <span class="nx">ignoreNormalRange</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>                                <span class="nx">cubeNormalSum</span><span class="p">[</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">,</span> <span class="nx">z</span><span class="p">]</span><span class="o">++</span><span class="p">;</span>
</span><span class='line'>                            <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">triangleNormal</span><span class="p">.</span><span class="nx">z</span> <span class="o">&amp;</span><span class="nx">gt</span><span class="p">;</span> <span class="mi">0</span> <span class="o">+</span> <span class="nx">ignoreNormalRange</span><span class="p">){</span>
</span><span class='line'>                                <span class="nx">cubeNormalSum</span><span class="p">[</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">,</span> <span class="nx">z</span><span class="p">]</span><span class="o">--</span><span class="p">;</span>
</span><span class='line'>                            <span class="p">}</span>
</span><span class='line'>                        <span class="p">}</span>
</span><span class='line'>                    <span class="p">}</span>
</span><span class='line'>                <span class="p">}</span>
</span><span class='line'>            <span class="p">}</span>
</span><span class='line'>        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span><span class='line'>            <span class="k">for</span> <span class="p">(</span><span class="nx">x</span> <span class="o">=</span> <span class="nx">startX</span><span class="p">;</span> <span class="nx">x</span> <span class="o">&amp;</span><span class="nx">lt</span><span class="p">;</span> <span class="nx">endX</span><span class="p">;</span> <span class="o">++</span><span class="nx">x</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>                <span class="k">for</span> <span class="p">(</span><span class="nx">y</span> <span class="o">=</span> <span class="nx">startY</span><span class="p">;</span> <span class="nx">y</span> <span class="o">&amp;</span><span class="nx">lt</span><span class="p">;</span> <span class="nx">endY</span><span class="p">;</span> <span class="o">++</span><span class="nx">y</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>                    <span class="k">for</span> <span class="p">(</span><span class="nx">z</span> <span class="o">=</span> <span class="nx">startZ</span><span class="p">;</span> <span class="nx">z</span> <span class="o">&amp;</span><span class="nx">lt</span><span class="p">;</span> <span class="nx">endZ</span><span class="p">;</span> <span class="o">++</span><span class="nx">z</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>                        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">IsAABCSet</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">,</span> <span class="nx">z</span><span class="p">)</span> <span class="o">&amp;</span><span class="nx">amp</span><span class="p">;</span><span class="o">&amp;</span><span class="nx">amp</span><span class="p">;</span> <span class="nx">TriangleIntersectAABC</span><span class="p">(</span><span class="nx">triangle</span><span class="p">,</span> <span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">,</span> <span class="nx">z</span><span class="p">))</span> <span class="p">{</span>
</span><span class='line'>                            <span class="nx">cubeSet</span><span class="p">[</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">,</span> <span class="nx">z</span><span class="p">]</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
</span><span class='line'>                        <span class="p">}</span>
</span><span class='line'>                    <span class="p">}</span>
</span><span class='line'>                <span class="p">}</span>
</span><span class='line'>            <span class="p">}</span>
</span><span class='line'>        <span class="p">}</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>    <span class="k">if</span><span class="p">(</span><span class="nx">debug</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>        <span class="nx">Debug</span><span class="p">.</span><span class="nx">Log</span><span class="p">(</span><span class="s2">&quot;Grid Evaluation Ended!&quot;</span><span class="p">);</span>
</span><span class='line'>        <span class="nx">Debug</span><span class="p">.</span><span class="nx">Log</span><span class="p">(</span><span class="s2">&quot;Time spent: &quot;</span> <span class="o">+</span> <span class="p">(</span><span class="nx">Time</span><span class="p">.</span><span class="nx">realtimeSinceStartup</span> <span class="o">-</span> <span class="nx">startTime</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;s&quot;</span><span class="p">);</span>
</span><span class='line'>        <span class="nx">Debug</span><span class="p">.</span><span class="nx">Log</span><span class="p">(</span><span class="s2">&quot;End: &quot;</span><span class="p">);</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>The code finds the AABB of each triangle (2), then performs the SAT intersection test on each cube intersected by AABB (3).</p>

<p><a href="http://1.bp.blogspot.com/-_DEozMxL7Ms/UD4N_qys_MI/AAAAAAAAAIc/O8VbBzba8Cg/s1600/satGridTest.png">triangles</a>
(1) the triangle in the grid.&nbsp; (2) the triangle with its AABB and the AABCs intersected by the AABB. (3) the AABCs intersected by the triangle</p>

<h2>Filling the hollow inside</h2>

<p><strong>When this method is finished</strong> we will have a voxel model that reproduce the mesh. But we have not finished yet, we may need also to know which voxel (AABC) is inside the mesh and which is out.
In order to do that we use the scan fill algorithm like the post on overgrowth blog explains, except for a little thing: we don&rsquo;t start to fill the cube when the normal of the last triangle faces to the left, instead we mark &lsquo;Begin&rsquo; and &lsquo;End&rsquo; cubes in FillGridWithGameObjectMeshShell().
If the z component of the triangle is positive, we decrease cubeNormalSum[x, y, z] by one, else we increase it. When all the triangles have been processed, a&nbsp; positive cubeNormalSum means that the cube is a &lsquo;Begin&rsquo; cube, if it is negative then the cube is an &lsquo;End&rsquo; cube.</p>

<p>We can&rsquo;t just check the normal of the last triangle because we don&rsquo;t know the order of the triangles, we neither traverse the entire grid during the creation of the voxel shell.</p>

<p>The method FillGridWithGameObjectMesh() does the real scan lining once that FillGridWithGameObjectMeshShell() ends. It traverses all the grid, starting from the cube at 0, 0, 0.
If a &lsquo;Begin&rsquo; cube is found, an &lsquo;End&rsquo; cube is searched. If an &lsquo;End&rsquo; cube is found, all the cubes between the last &lsquo;Begin&rsquo; and &lsquo;End&rsquo; are set.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'><span class="kr">public</span> <span class="kd">function</span> <span class="nx">FillGridWithGameObjectMesh</span><span class="p">(</span><span class="nx">gameObj</span> <span class="o">:</span> <span class="nx">GameObject</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>   <span class="nx">FillGridWithGameObjectMeshShell</span><span class="p">(</span><span class="nx">gameObj</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'>   <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">x</span> <span class="o">&amp;</span><span class="nx">lt</span><span class="p">;</span> <span class="nx">width</span><span class="p">;</span> <span class="o">++</span><span class="nx">x</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>      <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">y</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">y</span> <span class="o">&amp;</span><span class="nx">lt</span><span class="p">;</span> <span class="nx">height</span><span class="p">;</span> <span class="o">++</span><span class="nx">y</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>         <span class="kd">var</span> <span class="nx">fill</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
</span><span class='line'>         <span class="kd">var</span> <span class="nx">cubeToFill</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span><span class='line'>         <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">z</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">z</span> <span class="o">&amp;</span><span class="nx">lt</span><span class="p">;</span> <span class="nx">depth</span><span class="p">;</span> <span class="o">++</span><span class="nx">z</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>            <span class="k">if</span> <span class="p">(</span><span class="nx">cubeSet</span><span class="p">[</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">,</span> <span class="nx">z</span><span class="p">])</span> <span class="p">{</span>
</span><span class='line'>               <span class="kd">var</span> <span class="nx">normalSum</span> <span class="o">=</span> <span class="nx">cubeNormalSum</span><span class="p">[</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">,</span> <span class="nx">z</span><span class="p">];</span>
</span><span class='line'>               <span class="k">if</span> <span class="p">(</span><span class="nx">normalSum</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>                  <span class="k">if</span> <span class="p">(</span><span class="nx">normalSum</span> <span class="o">&amp;</span><span class="nx">gt</span><span class="p">;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>                     <span class="c1">// &#39;Begin&#39; cube</span>
</span><span class='line'>                     <span class="nx">fill</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
</span><span class='line'>                  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span><span class='line'>                     <span class="c1">// &#39;End&#39; cube</span>
</span><span class='line'>                     <span class="nx">fill</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
</span><span class='line'>                     <span class="k">while</span> <span class="p">(</span><span class="nx">cubeToFill</span> <span class="o">&amp;</span><span class="nx">gt</span><span class="p">;</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>                        <span class="nx">cubeToFill</span><span class="o">--</span><span class="p">;</span>
</span><span class='line'>                        <span class="nx">cubeSet</span><span class="p">[</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">,</span> <span class="nx">z</span> <span class="o">-</span> <span class="nx">cubeToFill</span><span class="p">]</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
</span><span class='line'>                     <span class="p">}</span>
</span><span class='line'>                  <span class="p">}</span>
</span><span class='line'>               <span class="nx">cubeToFill</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span><span class='line'>             <span class="p">}</span>
</span><span class='line'>             <span class="k">continue</span><span class="p">;</span>
</span><span class='line'>         <span class="p">}</span>
</span><span class='line'>         <span class="k">if</span> <span class="p">(</span><span class="nx">fill</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>            <span class="nx">cubeToFill</span><span class="o">++</span><span class="p">;</span>
</span><span class='line'>         <span class="p">}</span>
</span><span class='line'>      <span class="p">}</span>
</span><span class='line'>   <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'> <span class="nx">cubeNormalSum</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<h2>Performance</h2>

<p><strong>Performance are mainly determined</strong> by the number of triangles in the mesh and the side length of the AABCs.
Here they are some of the tests made on my laptop:</p>

<p><strong>Laptop specs:</strong>
HP g6-1359el
Intel Core i5-2450M - 2,5 GHz
AMD Radeon HD 7450M</p>

<h3>First Test</h3>

<p><img src="http://2.bp.blogspot.com/-8H-XtYVenzU/UD46JcOx8EI/AAAAAAAAAI0/YVsH2Zvv7uQ/s1600/test1.png" alt="first" /></p>

<p>Mesh: construction_worke
Time spent: 0.4051636s
Triangles: 4020
Cube side: 0.05</p>

<h3>Second Test</h3>

<p><img src="http://1.bp.blogspot.com/-8U6OSER1xMw/UD46n8wx7VI/AAAAAAAAAI8/-j_jVcP9WSQ/s1600/test2.png" alt="second" /></p>

<p>Mesh: construction_worker
Time spent: 1.088864s
Triangles: 4020
Cube side: 0.02</p>

<h3>Third Test</h3>

<p><img src="http://3.bp.blogspot.com/-qZirZ87RDdA/UD48XZRB5CI/AAAAAAAAAJE/DRmg_Cwpt1U/s1600/test3.png" alt="third" /></p>

<p>Mesh: sphere</p>

<p>Time spent: 1.926165s
Triangles:760
Cube side: 0.03</p>

<p>Memory could be saved storing <strong>cubeSet</strong> using a 3D bitarray class and <strong>cubeNormalSum</strong> using a 3D array of bytes</p>

<h2>Try it yourself</h2>

<p>For testing purpose there is also a VoxelizationTest.js script on my github. Attach it to an object with a mesh to try this voxelization script. Remember to enable Gizmos in the game window, otherwise the AABCs will not appear!</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Vincenzo Giovanni Comito</span></span>

      








  


<time datetime="2014-06-24T02:15:57+02:00" pubdate data-updated="true"></time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/development/'>development</a>, <a class='category' href='/blog/categories/game/'>game</a>, <a class='category' href='/blog/categories/programming/'>programming</a>, <a class='category' href='/blog/categories/unity/'>unity</a>, <a class='category' href='/blog/categories/voxel/'>voxel</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://clynamen.github.io/blog/2014/06/24/voxelization-in-unity/" data-via="cIynamen" data-counturl="http://clynamen.github.io/blog/2014/06/24/voxelization-in-unity/" >Tweet</a>
  
  
  
</div>

    
    <p class="meta">
      
      
        <a class="basic-alignment right" href="/blog/2014/06/24/outline-in-unity-with-mesh-transparency/" title="Next Post: Outline in Unity with mesh transparency">Outline in Unity with mesh transparency &raquo;</a>
      
    </p>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2019/06/16/julia_def_fun_macro/">Programmatically create function in Julia with metaprogramming</a>
      </li>
    
      <li class="post">
        <a href="/blog/2019/05/31/julia_opencv/">Julia and the current status of OpenCV bindings</a>
      </li>
    
      <li class="post">
        <a href="/blog/2019/02/04/carsim2d/">Experimente mit Rust - Carsim2d [DE]</a>
      </li>
    
      <li class="post">
        <a href="/blog/2017/10/15/sdc-weekly_de/">Self Driving Car Weekly Highlights | Week 08/10/17 - 15/10/17 [EN]</a>
      </li>
    
      <li class="post">
        <a href="/blog/2017/10/15/sdc-weekly/">Self Driving Car Weekly Highlights | Week 08/10/17 - 15/10/17 [DE]</a>
      </li>
    
  </ul>
</section>

<section id="twitter">
  <h1 class="tweets">Tweets</h1>
  <ul id="tweets">
    <li class="loading">Status updating...</li>
  </ul>
  <script type="text/javascript">
    $.domReady(function(){
      getTwitterFeed("cIynamen", , );
    });
  </script>
  <script src="/javascripts/twitter.js" type="text/javascript"> </script>
  
    <p>Follow <a href="http://twitter.com/cIynamen">@cIynamen</a></p>
  
</section>


<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating...</li>
  </ul>
  
  <a href="https://github.com/clynamen">@clynamen</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'clynamen',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>





  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2019 -  Vincenzo Giovanni Comito <br/>
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a> + <a href="https://github.com/clynamen/wired_next">theme: wired_next, a mnml fork</a>.
	  
  </span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'clynamen-github-io';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://clynamen.github.io/blog/2014/06/24/voxelization-in-unity/';
        var disqus_url = 'http://clynamen.github.io/blog/2014/06/24/voxelization-in-unity/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
